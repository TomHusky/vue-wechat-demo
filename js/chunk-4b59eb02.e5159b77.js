(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b59eb02"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"176c":function(t,e,s){},"1e2c":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-list-wrapper"},[s("div",{staticClass:"search-list"},[s("i",{staticClass:"icon iconfont icon-search",class:{"icon-search-color":t.searchIconColor}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"searchInput",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.search},on:{focus:t.inputFocus,blur:t.inputBlur,keyup:t.change,input:function(e){e.target.composing||(t.search=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDelete,expression:"showDelete"}],staticClass:"searchInput-delete",on:{mousedown:t.del}})]),s("div",{staticClass:"add",on:{click:function(e){return t.$emit("add")}}},[s("i",{staticClass:"icon iconfont icon-add"})])])},n=[],a=(s("ac1f"),s("841c"),{props:["placeholder"],methods:{change:function(){this.$store.dispatch("system/search",this.search)},inputFocus:function(t){t.target.placeholder="",this.searchIconColor=!0,this.showDelete=!0},inputBlur:function(t){t.target.placeholder="搜索",this.searchIconColor=!1,this.showDelete=!1},del:function(t){this.search="",this.change()}},data:function(){return{search:"",active:!1,searchIconColor:!1,showDelete:!1}},computed:{}}),c=a,o=(s("c61c"),s("2877")),r=Object(o["a"])(c,i,n,!1,null,"30156624",null);e["a"]=r.exports},"2d90":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-wrapper"},[s("div",{staticClass:"search"},[s("i",{staticClass:"icon iconfont icon-search",class:{"icon-search-color":t.searchIconColor}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"searchInput",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.content},on:{focus:t.inputFocus,blur:t.inputBlur,keyup:t.change,input:function(e){e.target.composing||(t.content=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDelete,expression:"showDelete"}],staticClass:"searchInput-delete",on:{mousedown:t.del}})]),t.showBtn?s("button",{staticClass:"btn",on:{click:t.search}},[t._v("搜索")]):t._e()])},n=[],a={props:{placeholder:{type:String,default:"搜索"},showBtn:{type:Boolean,default:!0}},methods:{change:function(){this.$emit("change",this.content)},search:function(){this.$emit("search",this.content)},inputFocus:function(t){t.target.placeholder="",this.searchIconColor=!0,this.showDelete=!0},inputBlur:function(t){t.target.placeholder="搜索",this.searchIconColor=!1,this.showDelete=!1},del:function(t){this.content="",this.change()}},data:function(){return{content:"",active:!1,searchIconColor:!1,showDelete:!1}},computed:{}},c=a,o=(s("8f7f"),s("2877")),r=Object(o["a"])(c,i,n,!1,null,"9bd2aa5e",null);e["a"]=r.exports},"326a":function(t,e,s){"use strict";s("dc4c")},"3ae5":function(t,e,s){},"59c8":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"msglist"},[s("SearchList",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{placeholder:t.placeholder}}),s("ChatList")],1),s("div",{staticClass:"chatbox"},[s("MessageChat",{key:t.selectChatId,staticClass:"message"}),s("VText",{staticClass:"text"})],1),t.isShow?s("div",{staticClass:"chatInfo"},[1==t.selectedChat.type?s("FriendChatInfo",{attrs:{id:"info"}}):t._e(),2==t.selectedChat.type?s("GroupChatInfo",{attrs:{id:"info"}}):t._e()],1):t._e()])},n=[],a=s("5530"),c=s("1e2c"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"msglist selectNone"},[s("ul",[t._l(t.searchedChatlist,(function(e){return[e.isShow?s("li",{key:e.id,staticClass:"sessionlist",class:{active:e.chatId===t.selectChatId},on:{contextmenu:function(s){return s.preventDefault(),t.openMenu(s,e)},click:function(s){return t.selectSession(e.chatId)}}},[s("div",{staticClass:"list-left"},[s("img",{staticClass:"avatar",attrs:{width:"40",height:"40",alt:""===e.info.remark?e.info.nickname:e.info.remark,src:e.info.avatar}}),e.newMsgNum>0?s("Badge",{attrs:{count:e.newMsgNum,overflowCount:99,showNum:!e.info.notDisturb,width:16,height:16}}):t._e()],1),s("div",{staticClass:"list-right"},[s("p",{staticClass:"name"},[t._v(" "+t._s(null===e.info.remark||""===e.info.remark?e.info.nickname:e.info.remark)+" ")]),s("span",{staticClass:"time",domProps:{textContent:t._s(t.getTimes(e.lastMsgTime))}}),s("p",{staticClass:"lastmsg",domProps:{innerHTML:t._s(t.replaceFace(e.messages.length>0?e.messages[e.messages.length-1]:""))}})])]):t._e()]}))],2),s("context-menu",{staticClass:"right-menu",attrs:{offset:t.menuOffset},scopedSlots:t._u([{key:"menuItem",fn:function(){return[s("ul",[s("li",{on:{click:t.top}},[t._v("置顶")]),0==t.currentChat.newMsgNum?s("li",{on:{click:function(e){return t.updateMsgStatus(!1)}}},[t._v(" 标记为未读 ")]):t._e(),t.currentChat.newMsgNum>0?s("li",{on:{click:function(e){return t.updateMsgStatus(!0)}}},[t._v(" 标记为已读 ")]):t._e(),t.currentChat.info.notDisturb?t._e():s("li",{on:{click:function(e){return t.setNotDisturb(!0)}}},[t._v(" 消息免打扰 ")]),t.currentChat.info.notDisturb?s("li",{on:{click:function(e){return t.setNotDisturb(!1)}}},[t._v(" 开启新消息提醒 ")]):t._e(),s("li",{staticClass:"border-top",on:{click:t.closeChat}},[t._v("不显示聊天")]),s("li",{on:{click:t.deleteChat}},[t._v("删除聊天")])])]},proxy:!0}])})],1)},r=[],l=(s("caad"),s("2532"),s("ac1f"),s("5319"),s("ff9f")),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:t.left+"px",top:t.top+"px"}},[t._t("menuItem")],2)},u=[],d={name:"ContextMenu",props:{offset:{type:Object,default:function(){return{offsetLeft:0,offsetWidth:0,clientX:0,clientY:0}}}},data:function(){return{left:0,top:0,visible:!1}},watch:{offset:{handler:function(){var t=this.offset,e=(t.offsetLeft,t.offsetWidth,t.clientX),s=t.clientY;this.left=e,this.top=s,this.visible=!0},deep:!0},visible:function(t){t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},methods:{closeMenu:function(){this.visible=!1}}},f=d,m=(s("66f4"),s("2877")),g=Object(m["a"])(f,h,u,!1,null,"63730e7f",null),p=g.exports,v=s("2f62"),w={components:{ContextMenu:p,Badge:l["a"]},data:function(){return{menuOffset:{offsetLeft:0,offsetWidth:0,clientX:0,clientY:0},currentChat:{info:{}}}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(v["d"])({emojis:function(t){return t.system.emojis},selectChatId:function(t){return t.chat.selectChatId},searchText:function(t){return t.system.searchText}})),Object(v["c"])({searchedChatlist:"chat/searchedChatlist",getChatIndex:"chat/getChatIndex"})),{},{getTimes:function(){return function(t){return null==t||""===t?"":("string"===typeof t&&(t=new Date(t)),t.getMinutes()<10?t.getHours()+":0"+t.getMinutes():t.getHours()+":"+t.getMinutes())}}}),methods:Object(a["a"])(Object(a["a"])({},Object(v["b"])({selectSession:"chat/selectSession",updateChatInfo:"chat/updateChatInfo",topChat:"chat/topChat",deleteChatByChatId:"chat/deleteChatByChatId"})),{},{replaceFace:function(t){if(""===t)return"";if(2==t.type)return"[图片]";if(3==t.type)return"[文件]";var e=t.content;if(e.includes("@::tt;;@")){for(var s=this.emojis,i=0;i<s.length;i++)e=e.replace(s[i].reg,'<img src="static/emoji/'+s[i].file+'"  alt="" style="vertical-align: middle; width: 15px; height: 15px" />');return e}return e},openMenu:function(t,e){this.menuOffset.offsetLeft=this.$el.getBoundingClientRect().left,this.menuOffset.offsetWidth=this.$el.offsetWidth,this.menuOffset.clientX=t.clientX,this.menuOffset.clientY=t.clientY,this.currentChat=e},top:function(){this.topChat(this.currentChat)},updateMsgStatus:function(t){this.currentChat.newMsgNum=t?0:1,this.updateChatInfo(this.currentChat)},setNotDisturb:function(t){this.currentChat.info.notDisturb=t,this.updateChatInfo(this.currentChat)},closeChat:function(){if("wx001"!==this.currentChat.chatId){if(!(this.$store.state.chat.chatlist.length<2)){var t=this.getChatIndex(this.currentChat.chatId);this.currentChat.isShow=!1,this.updateChatInfo(this.currentChat),this.currentChat.chatId===this.selectChatId&&this.selectSession(this.$store.state.chat.chatlist[t].chatId)}}else this.$message({content:"机器人不能隐藏哦！",time:2500,type:"warning",hasClose:!0})},deleteChat:function(){"99"!==this.currentChat.chatId?this.deleteChatByChatId(this.currentChat.chatId):this.$message({content:"机器人不能删除哦！",time:2500,type:"warning",hasClose:!0})}})},C=w,b=(s("a8ed"),Object(m["a"])(C,o,r,!1,null,"35763c22",null)),x=b.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info selectNone"},[s("div",{staticClass:"content scrollbar"},[s("div",{staticClass:"chatUserList"},[t._m(0),s("div",{staticClass:"userHead"},[s("img",{staticClass:"avatar",attrs:{width:"35",height:"35",alt:t.selectedChatFriend.nickname,src:t.selectedChatFriend.avatar},on:{click:t.openMenu}}),null==t.selectedChatFriend.remark?s("div",{staticClass:"name"},[t._v(" "+t._s(t.selectedChatFriend.nickname)+" ")]):t._e(),null!=t.selectedChatFriend.remark?s("div",{staticClass:"name"},[t._v(" "+t._s(t.selectedChatFriend.remark)+" ")]):t._e()])]),s("div",{staticClass:"division"}),s("div",{staticClass:"chatItem"},[s("div",{staticClass:"item chatSwitchItem"},[s("p",{staticClass:"switchLable"},[t._v("消息免打扰")]),s("p",{staticClass:"switchValue"},[s("switched",{attrs:{checked:t.selectedChat.info.notDisturb,width:40,height:18},on:{change:t.setNotDisturb}})],1)]),s("div",{staticClass:"item chatSwitchItem"},[s("p",{staticClass:"switchLable"},[t._v("置顶聊天")]),s("p",{staticClass:"switchValue"},[s("Switched",{attrs:{width:40,height:18},on:{change:t.toppingChat}})],1)])])])])},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"userHead"},[s("div",{staticClass:"add"},[s("img",{attrs:{alt:"添加",width:"15px",src:"static/images/icon/add.svg"}})]),s("div",{staticClass:"name"},[t._v("添加")])])}],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"switch",style:{width:t.width+"px",height:t.height+"px"}},[s("input",{style:{width:t.width+"px",height:t.height+"px"},attrs:{type:"checkbox"},domProps:{checked:t.checked},on:{change:function(e){return t.$emit("change",e.target.checked)}}}),s("span",{style:{borderRadius:t.height+"px"}},[s("i",{style:{width:t.height-8+"px",height:t.height-8+"px",marginTop:-(t.height-8)/2+"px"}})])])},j=[],k=(s("a9e3"),{model:{prop:"checked",event:"change"},props:{checked:{type:Boolean,default:!1},width:{type:Number,default:44},height:{type:Number,default:22}}}),M=k,O=(s("fc0f"),Object(m["a"])(M,_,j,!1,null,"23a37245",null)),S=O.exports,T={components:{Switched:S},data:function(){return{}},created:function(){var t=this;document.addEventListener("click",(function(e){null!=t.$refs.info&&(t.$refs.info.contains(e.target)||t.isShow&&(t.isShow=!1))}))},computed:Object(a["a"])(Object(a["a"])({},Object(v["d"])({selectWxid:function(t){return t.chat.selectWxid},searchText:function(t){return t.system.searchText}})),Object(v["c"])({selectedChatFriend:"friend/selectedChatFriend",selectedChat:"chat/selectedChat"})),methods:Object(a["a"])(Object(a["a"])({},Object(v["b"])({updateFriend:"friend/updateFriend",updateChatInfo:"chat/updateChatInfo",topChat:"chat/topChat"})),{},{toppingChat:function(t){t&&this.topChat(this.selectedChat)},setNotDisturb:function(t){var e=this.selectedChat;e.chatId;e.info.notDisturb=t},openMenu:function(t){var e={clientX:t.clientX,clientY:t.clientY,self:!1,visible:!0,visibleIng:!0,info:this.selectedChatFriend};this.$store.commit("system/setHeadMenu",e)}})},F=T,$=(s("d2d7"),Object(m["a"])(F,y,I,!1,null,"53f2a6ee",null)),N=$.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info selectNone"},[s("div",{staticClass:"header"},[s("Search",{attrs:{placeholder:t.placeholder,showBtn:!1}})],1),s("div",{staticClass:"content scrollbar"},[s("div",{staticClass:"chatUserList"},[t._m(0),t._l(t.selectedGroupChat.userDetails,(function(e){return s("div",{key:e.id,staticClass:"userHead"},[s("img",{staticClass:"avatar",attrs:{width:"35",height:"35",alt:e.nickname,src:e.avatar},on:{click:function(s){return t.openMenu(s,e)}}}),null==e.remark?s("div",{staticClass:"name"},[t._v(t._s(e.nickname))]):t._e(),null!=e.remark?s("div",{staticClass:"name"},[t._v(t._s(e.remark))]):t._e()])}))],2),s("div",{staticClass:"division"}),s("div",{staticClass:"chatItem"},[s("div",{staticClass:"item"},[s("p",{staticClass:"lable"},[t._v("群聊名称")]),s("p",{staticClass:"value",class:{editText:t.selectedGroupChat.ownerId===t.user.username},attrs:{contentEditable:t.selectedGroupChat.ownerId===t.user.username}},[t._v(" "+t._s(t.selectedGroupChat.groupName)+" ")])]),s("div",{staticClass:"item"},[s("p",{staticClass:"lable"},[t._v("群公告")]),s("p",{staticClass:"value"},[t._v(" "+t._s(null==t.selectedGroupChat.notice||""===t.selectedGroupChat.notice?"未设置":t.selectedGroupChat.notice)+" ")])]),s("div",{staticClass:"item"},[s("p",{staticClass:"lable"},[t._v("备注")]),s("p",{staticClass:"value editText",attrs:{contentEditable:""},on:{focus:function(e){return t.focusRemark(e)},blur:function(e){return t.updateRemark(e)}}},[t._v(" "+t._s(null==t.selectedGroupChat.remark||""===t.selectedGroupChat.remark?"群聊的备注仅自己可见":t.selectedGroupChat.remark)+" ")])]),s("div",{staticClass:"item"},[s("p",{staticClass:"lable"},[t._v("我在本群的昵称")]),s("p",{staticClass:"value editText",attrs:{contentEditable:""},on:{blur:function(e){return t.updateNickname(e)}}},[t._v(" "+t._s(t.getMsgUserInfo(t.user.username).groupNickname)+" ")])])]),s("div",{staticClass:"division"}),s("div",{staticClass:"chatItem"},[s("div",{staticClass:"item chatSwitchItem"},[s("p",{staticClass:"switchLable"},[t._v("显示群成员昵称")]),s("p",{staticClass:"switchValue"},[s("Switched",{attrs:{width:40,height:18}})],1)]),s("div",{staticClass:"item chatSwitchItem"},[s("p",{staticClass:"switchLable"},[t._v("消息免打扰")]),s("p",{staticClass:"switchValue"},[s("Switched",{attrs:{width:40,checked:t.selectedGroupChat.notDisturb,height:18}})],1)]),s("div",{staticClass:"item chatSwitchItem"},[s("p",{staticClass:"switchLable"},[t._v("置顶聊天")]),s("p",{staticClass:"switchValue"},[s("Switched",{attrs:{width:40,height:18}})],1)])]),s("div",{staticClass:"division"}),s("div",{staticClass:"exit"},[s("span",{on:{click:t.exit}},[t._v("删除并退出")])])])])},D=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"userHead"},[s("div",{staticClass:"add"},[s("img",{attrs:{alt:"添加",width:"15px",src:"static/images/icon/add.svg"}})]),s("div",{staticClass:"name"},[t._v("添加")])])}],E=(s("7db0"),s("498a"),s("2d90")),W={components:{Search:E["a"],Switched:S},data:function(){return{placeholder:"搜索群好友"}},created:function(){var t=this;document.addEventListener("click",(function(e){null!=t.$refs.info&&(t.$refs.info.contains(e.target)||t.isShow&&(t.isShow=!1))}))},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(v["d"])({user:function(t){return t.user.info},searchText:function(t){return t.system.searchText}})),Object(v["c"])({selectedGroupChat:"groupchat/selectedGroupChat",selectedFriendByUsername:"friend/selectedFriendByUsername"})),{},{isSelf:function(){var t=this;return function(e){return e===t.user.username}},getMsgUserInfo:function(){var t=this;return function(e){var s=t.selectedGroupChat.userDetails.find((function(t){return t.username===e})),i=t.selectedFriendByUsername(e);return null!=i&&(s.groupNickname=i.remark),s}}}),methods:Object(a["a"])(Object(a["a"])({},Object(v["b"])({deleteGroupChat:"groupchat/deleteGroupChat",deleteChatByChatId:"chat/deleteChatByChatId"})),{},{openMenu:function(t,e){var s={clientX:t.clientX,clientY:t.clientY,self:this.isSelf(e.username),visible:!0,visibleIng:!0,info:this.isSelf(e.username)?this.user:this.getMsgUserInfo(e.username)};this.$store.commit("system/setHeadMenu",s)},focusRemark:function(t){null===this.selectedGroupChat.remark&&(t.target.innerText="",this.focusRange(t.target))},focusRange:function(t){if(window.getSelection){t.focus();var e=window.getSelection();e.selectAllChildren(t),e.collapseToEnd()}else if(document.selection){var s=document.selection.createRange();s.moveToElementText(t),s.collapse(!1),s.select()}},updateRemark:function(t){var e=t.target.innerText.trim();""!==e?this.selectedGroupChat.remark:null==this.selectedGroupChat.remark?t.target.innerText="群聊的备注仅自己可见":t.target.innerText=this.selectedGroupChat.remark},updateNickname:function(t){var e=t.target.innerText.trim();""!==e?this.getMsgUserInfo(this.user.username).groupNickname:t.target.innerText=this.getMsgUserInfo(this.user.username).groupNickname},exit:function(){this.selectedGroupChat.groupNo}})},H=W,B=(s("fec8"),Object(m["a"])(H,L,D,!1,null,"4ea3b812",null)),G=B.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message"},[1===t.selectedChat.type?[s("FriendMessage")]:t._e(),2===t.selectedChat.type?[s("GroupMessage")]:t._e(),s("CusConfirm",{attrs:{height:t.getWidth(t.imgWindow.width,t.imgWindow.height).height,width:t.getWidth(t.imgWindow.width,t.imgWindow.height).width,flag:t.imgWindow.showImgWindow,okFlag:!1,noFlag:!1},on:{cancel:t.cancel},scopedSlots:t._u([{key:"confirm",fn:function(){return[s("div",{staticStyle:{padding:"30px 0","text-align":"center",display:"flex","justify-content":"center","align-items":"center"},style:{height:t.getWidth(t.imgWindow.width,t.imgWindow.height).height+"px",width:t.getWidth(t.imgWindow.width,t.imgWindow.height).width+"px"}},[s("img",{attrs:{src:t.imgWindow.src,width:t.imgWindow.width<600?t.imgWindow.width:t.getWidth(t.imgWindow.width,t.imgWindow.height).width,height:t.imgWindow.height<600?t.imgWindow.height:t.getWidth(t.imgWindow.width,t.imgWindow.height).height}})])]},proxy:!0}])})],2)},z=[],U=(s("b680"),s("6dcb")),A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message"},[s("header",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"header selectNone"},[s("div",{staticClass:"friendName"},[s("span",{staticStyle:{cursor:"pointer"},on:{click:t.showChatInfo}},[t._v(t._s(null==t.selectedChat.info.remark||""===t.selectedChat.info.remark?t.selectedChat.info.nickname:t.selectedChat.info.remark)+" ("+t._s(t.selectedGroupChat.userDetails.length)+")")])]),s("i",{staticClass:"icon iconfont icon-more info",staticStyle:{cursor:"pointer"},on:{click:t.showChatInfo}})]),s("div",{ref:"list",staticClass:"message-wrapper",on:{scroll:t.handleScroll,mousewheel:t.mousewheel}},[s("div",{staticClass:"more"},[t.showLoading?s("Loading",{attrs:{load:t.showLoading,size:3}}):t._e(),t.showMoreInfo?s("span",[t._v("查看更多消息")]):t._e()],1),t.selectedChat?s("ul",t._l(t.showMessages,(function(e){return s("li",{key:e.id,staticClass:"message-item"},[s("div",{staticClass:"time"},[e.showTime?s("span",[t._v(t._s(t._f("time")(e.date)))]):t._e()]),s("div",{staticClass:"main",class:{self:t.isSelf(e.username),other:!t.isSelf(e.username)}},[s("img",{staticClass:"avatar selectNone",attrs:{width:"36",height:"36",src:t.isSelf(e.username)?t.user.avatar:t.getMsgUserInfo(e.username).avatar},on:{click:function(s){return s.preventDefault(),t.openMenu(s,e)}}}),s("div",{staticClass:"content"},[t.isSelf(e.username)?t._e():s("div",{staticClass:"nickname"},[t._v(" "+t._s(null!=t.getMsgUserInfo(e.username).remark?t.getMsgUserInfo(e.username).remark:t.getMsgUserInfo(e.username).nickname)+" ")]),s("div",{staticClass:"msg",class:{"text-msg":1==e.type}},[2==e.type?s("img",{staticClass:"img-msg",attrs:{src:e.content.src},on:{click:function(s){return t.showImgWindow({showImgWindow:!0,src:e.content.src,width:e.content.width,height:e.content.height})}}}):t._e(),3==e.type?s("div",{staticClass:"file-msg",on:{click:function(s){return t.downloadFile(e.content.src)}}},[s("p",{staticClass:"file-name"},[t._v(t._s(e.content.fileName))]),s("p",{staticClass:"file-size"},[t._v(t._s(e.content.fileSize))]),s("img",{staticStyle:{width:"40px"},attrs:{src:null!=t.systemFileIcon[e.content.fileType]?t.systemFileIcon[e.content.fileType]:"static/images/file.png"}})]):t._e(),1==e.type?s("div",{staticClass:"text",domProps:{innerHTML:t._s(t.replaceFace(e.content))}}):t._e()])])])])})),0):t._e()])])},X=[],Y=(s("fb6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[t.loading?s("div",{staticClass:"loader",style:{fontSize:t.size+"px","--color":t.color}},[t._v(" Loading... ")]):t._e()])}),P=[],V={name:"Loading",props:{load:{type:Boolean,default:!1},size:{type:Number,default:5},times:{type:Number,default:null},color:{type:String,default:"#C4C4C4"}},data:function(){return{loading:this.load}},watch:{load:function(t){var e=this;this.loading=t;var s=null;t?null!=times&&0!=this.times&&(s=setTimeout((function(){e.loading=!1}),1e3*times)):null!=s&&clearTimeout(s)}}},q=V,J=(s("326a"),Object(m["a"])(q,Y,P,!1,null,"2586bcdc",null)),K=J.exports,Q={components:{Loading:K},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(v["c"])({selectedChat:"chat/selectedChat",selectedGroupChat:"groupchat/selectedGroupChat",messages:"chat/messages",selectedFriendByUsername:"friend/selectedFriendByUsername"})),Object(v["d"])({user:function(t){return t.user.info},emojis:function(t){return t.system.emojis},systemFileIcon:function(t){return t.system.systemFileIcon}})),{},{isSelf:function(){var t=this;return function(e){return e===t.user.username}},getMsgUserInfo:function(){var t=this;return function(e){var s=t.selectedGroupChat.userDetails.find((function(t){return t.username===e})),i=t.selectedFriendByUsername(e);return null!=i?i:s}}}),data:function(){return{showMessages:[],roll:0,pageIndex:-1,pageSize:10,showMoreInfo:!1,showLoading:!1}},beforeMount:function(){this.loadMessage()},mounted:function(){var t=this;setTimeout((function(){return t.$refs.list.scrollTop=t.$refs.list.scrollHeight}),0)},created:function(){},watch:{messages:function(){var t=this;this.showMessages.push(this.messages[this.messages.length-1]),setTimeout((function(){return t.$refs.list.scrollTop=t.$refs.list.scrollHeight}),0)}},methods:Object(a["a"])(Object(a["a"])({},Object(v["b"])({showImgWindow:"system/showImgWindow"})),{},{mousewheel:function(){0!=this.pageIndex&&this.showMoreInfo&&(this.showMoreInfo=!1,this.showLoading=!0,this.loadMessage())},handleScroll:function(){if(0!=this.pageIndex){var t=this.$refs.list.scrollTop,e=t-this.roll;e<0&&(this.showMoreInfo||0==this.$refs.list.scrollTop&&(this.showMoreInfo=!0)),this.roll=this.$refs.list.scrollTop}},loadMessage:function(){var t=this;setTimeout((function(){t.showLoading=!1}),100),-1==this.pageIndex&&(this.pageIndex=this.selectedChat.messages.length);var e=this.pageIndex-this.pageSize;e<0&&(e=0);var s=this.selectedChat.messages.slice(e,this.pageIndex);if(this.pageIndex=e,this.pageSize<50&&(this.pageSize+=10),s.length>0)for(var i=s.length-1;i>=0;i--)this.showMessages.unshift(s[i])},showChatInfo:function(){this.$parent.showChatInfo()},openMenu:function(t,e){var s={clientX:t.clientX,clientY:t.clientY,self:this.isSelf(e.username),visible:!0,visibleIng:!0,info:this.isSelf(e.username)?this.user:this.getMsgUserInfo(e.username)};this.$store.commit("system/setHeadMenu",s)},replaceFace:function(t){if(t.includes("@::tt;;@")){for(var e=this.emojis,s=0;s<e.length;s++)t=t.replace(e[s].reg,'<img src="static/emoji/'+e[s].file+'"  alt="" style="vertical-align: middle; width: 24px; height: 24px" />');return t}return t},downloadFile:function(t){window.open(t)}}),filters:{time:function(t){return"string"===typeof t&&(t=new Date(t)),t.getMinutes()<10?t.getHours()+":0"+t.getMinutes():t.getHours()+":"+t.getMinutes()}}},Z=Q,tt=(s("ad11"),Object(m["a"])(Z,A,X,!1,null,"353db00c",null)),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message"},[s("header",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"header selectNone"},[s("div",{staticClass:"friendName"},[s("span",{staticStyle:{cursor:"pointer"},on:{click:t.showChatInfo}},[t._v(t._s(""===t.selectedChat.info.remark?t.selectedChat.info.nickname:t.selectedChat.info.remark))])]),s("i",{staticClass:"icon iconfont icon-more info",staticStyle:{cursor:"pointer"},on:{click:t.showChatInfo}})]),s("div",{ref:"list",staticClass:"message-wrapper scrollbar",on:{scroll:t.handleScroll,mousewheel:t.mousewheel}},[s("div",{staticClass:"more"},[t.showLoading?s("Loading",{attrs:{load:t.showLoading,size:3}}):t._e(),t.showMoreInfo?s("span",[t._v("查看更多消息")]):t._e()],1),t.selectedChat?s("ul",t._l(t.showMessages,(function(e){return s("li",{key:e.id,staticClass:"message-item"},[s("div",{staticClass:"time selectNone"},[e.showTime?s("span",[t._v(t._s(t._f("time")(e.date)))]):t._e()]),s("div",{staticClass:"main",class:{self:t.isSelf(e.username),other:!t.isSelf(e.username)}},[s("img",{staticClass:"avatar selectNone",attrs:{width:"36",height:"36",src:t.isSelf(e.username)?t.user.avatar:t.selectedChat.info.avatar},on:{click:function(s){return s.preventDefault(),t.openMenu(s,e)}}}),s("div",{staticClass:"content",class:{"text-msg":1==e.type}},[2==e.type?s("img",{staticClass:"img-msg",attrs:{src:e.content.src},on:{click:function(s){return t.showImgWindow({showImgWindow:!0,src:e.content.src,width:e.content.width,height:e.content.height})}}}):t._e(),3==e.type?s("div",{staticClass:"file-msg",on:{click:function(s){return t.downloadFile(e.content.src)}}},[s("p",{staticClass:"file-name"},[t._v(t._s(e.content.fileName))]),s("p",{staticClass:"file-size"},[t._v(t._s(e.content.fileSize))]),s("img",{attrs:{src:null!=t.systemFileIcon[e.content.fileType]?t.systemFileIcon[e.content.fileType]:"static/images/file.png"}})]):t._e(),1==e.type?s("div",{staticClass:"text",domProps:{innerHTML:t._s(t.replaceFace(e.content))}}):t._e()])])])})),0):t._e()])])},it=[],nt={components:{Loading:K},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(v["c"])({selectedChat:"chat/selectedChat",messages:"chat/messages",selectedChatFriend:"friend/selectedChatFriend"})),Object(v["d"])({emojis:function(t){return t.system.emojis},systemFileIcon:function(t){return t.system.systemFileIcon}})),{},{user:function(){return this.$store.state.user.info},isSelf:function(){var t=this;return function(e){return e===t.user.username}}}),data:function(){return{showMessages:[],roll:0,pageIndex:-1,pageSize:15,showMoreInfo:!1,showLoading:!1}},mounted:function(){var t=this;setTimeout((function(){return t.$refs.list.scrollTop=t.$refs.list.scrollHeight}),0)},beforeMount:function(){this.loadMessage()},created:function(){},watch:{messages:function(){var t=this;this.showMessages.push(this.messages[this.messages.length-1]),setTimeout((function(){return t.$refs.list.scrollTop=t.$refs.list.scrollHeight}),0)}},methods:Object(a["a"])(Object(a["a"])({},Object(v["b"])({showImgWindow:"system/showImgWindow"})),{},{mousewheel:function(){0!=this.pageIndex&&this.showMoreInfo&&(this.showMoreInfo=!1,this.showLoading=!0,this.loadMessage())},handleScroll:function(){if(0!=this.pageIndex){var t=this.$refs.list.scrollTop,e=t-this.roll;e<0&&(this.showMoreInfo||0==this.$refs.list.scrollTop&&(this.showMoreInfo=!0)),this.roll=this.$refs.list.scrollTop}},loadMessage:function(){var t=this;setTimeout((function(){t.showLoading=!1}),100),-1==this.pageIndex&&(this.pageIndex=this.selectedChat.messages.length);var e=this.pageIndex-this.pageSize;e<0&&(e=0);var s=this.selectedChat.messages.slice(e,this.pageIndex);if(this.pageIndex=e,this.pageSize<50&&(this.pageSize+=10),s.length>0)for(var i=s.length-1;i>=0;i--)this.showMessages.unshift(s[i])},openMenu:function(t,e){var s={clientX:t.clientX,clientY:t.clientY,self:e.self,visible:!0,visibleIng:!0,info:e.self?this.user:this.selectedChatFriend};this.$store.commit("system/setHeadMenu",s)},showChatInfo:function(){this.$parent.showChatInfo()},replaceFace:function(t){if(t.includes("@::tt;;@")){for(var e=this.emojis,s=0;s<e.length;s++)t=t.replace(e[s].reg,'<img src="static/emoji/'+e[s].file+'"  alt="" style="vertical-align: middle; width: 24px; height: 24px" />');return t}return t},downloadFile:function(t){window.open(t)}}),filters:{time:function(t){return"string"===typeof t&&(t=new Date(t)),t.getMinutes()<10?t.getHours()+":0"+t.getMinutes():t.getHours()+":"+t.getMinutes()}}},at=nt,ct=(s("6df8"),Object(m["a"])(at,st,it,!1,null,"698bdcc0",null)),ot=ct.exports,rt={components:{GroupMessage:et,FriendMessage:ot,CusConfirm:U["a"]},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(v["d"])({imgWindow:function(t){return t.system.imgWindow}})),Object(v["c"])({selectedChat:"chat/selectedChat"})),{},{getWidth:function(){return function(t,e){var s={width:t,height:e},i=Math.floor(t/e).toFixed(1),n=Math.floor(e/t).toFixed(1);if(t>=e){if(i<1.5){if(t<=300)return s.width=2*t,s.height=2*e,s;if(t>300&&t<600)return s.width=1.5*t,s.height=1.5*e,s;if(t>=600&&t<=800)return s;if(t>800&&t<=1200)return s.width=t/1.8,s.height=e/1.8,s;if(t>1200)return s.width=t/2,s.height=e/2,s}if(i>=1.5){if(t<600)return s.width=1.5*t,s;if(t>=600&&t<=1200)return s;if(t>1200)return s.width=t/1.8,s.height=e/1.8,s}}else{if(n<1.5){if(e<=300)return s.width=2*t,s.height=2*e,s;if(e>300&&e<=600)return s.width=1.5*t,s.height=1.5*e,s;if(e>600&&e<=800)return s;if(e>800&&e<=1200)return s.width=t/1.8,s.height=e/1.8,s;if(e>1200)return s.width=t/2,s.height=e/2,s}if(n>=1.5){if(e<650)return s;if(e>=650&&e<=900)return s.width=t/1.4,s.height=e/1.4,s;if(e>900&&e<=1200)return s.width=t/1.6,s.height=e/1.6,s;if(e>1200)return s.width=t/2,s.height=e/2,s}}return s}}}),methods:Object(a["a"])(Object(a["a"])({},Object(v["b"])({showImgWindow:"system/showImgWindow"})),{},{showChatInfo:function(){this.$parent.showChatInfo(!0)},cancel:function(){var t={showImgWindow:!1};this.showImgWindow(t)}}),filters:{time:function(t){return"string"===typeof t&&(t=new Date(t)),t.getMinutes()<10?t.getHours()+":0"+t.getMinutes():t.getHours()+":"+t.getMinutes()}}},lt=rt,ht=Object(m["a"])(lt,R,z,!1,null,"472887d1",null),ut=ht.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text"},[s("div",{staticClass:"operation"},[s("span",{staticClass:"operation-icon"},[s("i",{ref:"emoji",staticClass:"icon iconfont icon-emoji",on:{click:t.showEmojiList}})]),s("span",{staticClass:"operation-icon file-upload"},[s("a",{staticClass:"icon iconfont icon-img",attrs:{href:"javascript:;"}},[s("input",{ref:"selectImg",attrs:{type:"file",accept:"image/png,image/jpeg,image/gif,image/jpg"},on:{change:function(e){return t.selectImg(e)}}})])]),s("span",{staticClass:"operation-icon file-upload"},[s("a",{staticClass:"icon iconfont icon-file",attrs:{href:"javascript:;"}},[s("input",{ref:"selectFile",attrs:{type:"file"},on:{change:function(e){return t.selectFile(e)}}})])]),s("transition",{attrs:{name:"showbox"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showEmoji,expression:"showEmoji"}],staticClass:"emojiBox"},t._l(t.emojis,(function(e){return s("li",{key:e.id},[s("img",{attrs:{src:"static/emoji/"+e.file,data:e.code},on:{click:function(s){return t.choiceEmoji(e)}}})])})),0)])],1),s("div",{ref:"text",attrs:{id:"textarea",contenteditable:"true"},on:{onpaste:function(e){return t.pasteListener(e)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"backspace",void 0,e.key,void 0)?null:t.backspace(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onkeydown(e)}],paste:t.pasteListener}}),s("div",{staticClass:"send",on:{click:t.send}},[s("span",[t._v("发送(ent)")])]),s("transition",{attrs:{name:"appear"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.warn,expression:"warn"}],staticClass:"warn"},[s("div",{staticClass:"description"},[t._v("不能发送空白信息")])])])],1)},ft=[];s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0");function mt(t){return mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}s("1276"),s("b0c0"),s("d81d"),s("4de4"),s("4d63"),s("25f0"),s("466d");var gt=s("90de"),pt={data:function(){return{reply:"未找到",frequency:0,warn:!1,showEmoji:!1,file:null,emojiReg:/\<img lwj=\"\" wx=\"[\s\S]*\" src=\"static\/emoji\/[\s\S]*\.gif\" style=\"vertical-align: middle; width: 24px; height: 24px\" jwl=\"\"\>/g,imgReg:/\<img cct=\"1\" style=\"max-width: 140px;max-height: 160px;\" id=\"[0-9]{13}\"/g,fileReg:/\<img cct=\"2\" style=\"width: 250px;border: 1px solid #D0D0D0\" id=\"[0-9]{13}\"/g}},computed:Object(a["a"])(Object(a["a"])({},Object(v["d"])({selectChatId:function(t){return t.chat.selectChatId},emojis:function(t){return t.system.emojis},systemFileIcon:function(t){return t.system.systemFileIcon}})),Object(v["c"])({selectedChat:"chat/selectedChat"})),created:function(){var t=this;document.addEventListener("click",(function(e){null!=t.$refs.emoji&&(t.$refs.emoji.contains(e.target)||t.showEmoji&&(t.showEmoji=!1))}))},methods:{pasteListener:function(t){var e=t.clipboardData&&t.clipboardData.items;if(e&&e.length)for(var s=0;s<e.length;s++){if(-1!==e[s].type.indexOf("image")){this.showImgText(e[s].getAsFile());break}this.showFileText(e[s].getAsFile())}t.stopPropagation(),t.preventDefault();var i="",n=t.originalEvent||t;n.clipboardData&&n.clipboardData.getData?i=n.clipboardData.getData("text/plain"):window.clipboardData&&window.clipboardData.getData&&(i=window.clipboardData.getData("Text")),document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,i):document.execCommand("paste",!1,i)},showEmojiList:function(){this.showEmoji=!0},choiceEmoji:function(t){this.showEmoji=!1;var e=this.$refs.text,s=e.innerHTML;if(this.emojiNumIsOut(s))alert("表情数量不允许超过5个");else{s+=t.sign;var i=this.replaceEmoji(s);e.innerHTML=i}},replaceEmoji:function(t){if(t.includes("@::tt;;@")){for(var e=this.emojis,s=0;s<e.length;s++)t=t.replace(e[s].reg,'<img lwj="" wx="'+e[s].id+'" src="static/emoji/'+e[s].file+'" style="vertical-align: middle; width: 24px; height: 24px" jwl=""/>');return t}return t},selectImg:function(t){var e=t.target.files[0];if("image"!==e.type.split("/")[0])return alert("请选择图片！"),!1;this.showImgText(e)},selectFile:function(t){var e=t.target.files[0];this.showFileText(e)},showFileText:function(t){var e=this;if(t){var s=Math.floor(t.size/1024);if(s>10240)return alert("请选择10M以内的文件！"),!1;var i=this.$refs.text,n=new FileReader;n.readAsDataURL(t);var a=Object(gt["e"])();n.onloadend=function(){e.getFileHtml(t,(function(s,n,c){var o='<img cct="2" style="width: 250px;border: 1px solid #D0D0D0" id="'+a+'" file-type="'+n+'" file-size="'+c+'"file-name="'+t.name+'" />&nbsp';i.innerHTML=o;var r=document.getElementById(a);r.src=s,e.file=t}))}}},getFileHtml:function(t,e){var s=t.name.substring(t.name.lastIndexOf("."),t.name.length),i=new Image;i.crossOrigin="Anonymous";var n=this.systemFileIcon[s];i.src=null==n?"static/images/file.png":n;var a=document.createElement("canvas");a.height=50,a.width=250;var c=a.getContext("2d");i.onload=function(){c.drawImage(i,5,10,30,30),c.fillStyle="#000",c.font="12px Arial",c.fillText(t.name,40,20);var n=Object(gt["c"])(t.size);c.fillText(n,40,35);var o=a.toDataURL("image/png");e(o,s,n),a=null}},showImgText:function(t){if(t){var e=Math.floor(t.size/1024);if(e>2048)return alert("请选择2M以内的图片！"),!1;var s=this.$refs.text,i=new FileReader;i.readAsDataURL(t);var n=Object(gt["e"])();i.onloadend=function(){var t=new Image;t.onload=function(){var e=t.width,a=t.height,c=s.innerHTML;c='<img cct="1" style="max-width: 140px;max-height: 160px;" id="'+n+'" c-width="'+e+'" c-height="'+a+'" />',s.innerHTML=c;var o=document.getElementById(n);o.src=i.result,t=null},t.src=i.result}}},backspace:function(t){var e=this.$refs.text;this.fileReg.test(e.innerHTML)||(this.file=null)},onkeydown:function(t){t.ctrlKey&&13==t.keyCode||(this.send(),t.preventDefault())},send:function(){var t=this,e=this.$refs.text,s=e.innerHTML,i="";if(this.imgReg.test(s))return i=this.replaceImgToMsg(s),this.sendMsg(i,2),void(e.innerHTML="");if(this.fileReg.test(s))return i=this.replaceFileToMsg(s),this.sendMsg(i,3),void(e.innerHTML="");if(this.emojiNumIsOut(s))alert("表情数量不允许超过5个");else{if(i=this.replaceEmojiToCode(s),i.length<1)return this.warn=!0,void setTimeout((function(){t.warn=!1}),1e3);this.sendMsg(i,1),e.innerHTML=""}},sendMsg:function(t,e){var s=this;if("机器人"===this.selectedChat.info.name)this.$http.get("https://zhaoplus.com/api/AI?search=".concat(t)).then((function(e){s.reply=e.data.result.text,t.includes("/:")&&(s.reply="嘻嘻");var i={content:t,reply:s.reply};s.$store.dispatch("chat/sendMessage",i)}));else{var i={content:t,type:e};this.$store.dispatch("chat/sendMessage",i)}},replaceEmojiToCode:function(t){var e=this;if(t.includes("<img lwj")){var s=function(){var s=e;while(t.includes("<img lwj")){var i="",n="",a="";t.replace(e.emojiReg,(function(e,c,o){var r=t.substring(c+16,c+16+32);i=r,s.emojis.filter((function(t){return t.id===r})).map((function(t){n=t.file,a=t.sign}))}));var c=e.getEmojiSignReg(i,n);t=t.replace(c,a)}return{v:t}}();if("object"===mt(s))return s.v}return t},replaceImgToMsg:function(t){var e="";if(t.replace(this.imgReg,(function(s,i,n){var a=t.substring(i+61,i+61+13);e=a})),""!==e){var s={},i=document.getElementById(e);s.width=parseInt(i.getAttribute("c-width")),s.height=parseInt(i.getAttribute("c-height")),s.src=i.src,t=s}return t},replaceFileToMsg:function(t){var e="";if(t.replace(this.fileReg,(function(s,i,n){var a=t.substring(i+64,i+64+13);e=a})),""!==e){var s={},i=document.getElementById(e);s.fileName=i.getAttribute("file-name"),s.fileType=i.getAttribute("file-type"),s.fileSize=i.getAttribute("file-size"),s.src=this.file,t=s}return t},getEmojiSignReg:function(t,e){var s=e.substring(0,e.indexOf("."));return new RegExp('\\<img lwj=\\"\\" wx=\\"'+t+'\\" src=\\"static\\/emoji\\/'+s+'\\.gif\\" style=\\"vertical-align: middle; width: 24px; height: 24px\\" jwl=\\"\\"\\>',"g")},emojiNumIsOut:function(t){var e=/\<img lwj=\"\" wx=\"[a-z0-9]{32}\"/g,s=t.match(e);return!!(s&&s.length>=5)}},mounted:function(){this.$refs.text.focus()},watch:{selectChatId:function(){var t=this;setTimeout((function(){t.$refs.text.focus()}),0)},content:function(){var t=this;""===this.content&&0===this.frequency&&(this.warn=!0,this.frequency++,setTimeout((function(){t.warn=!1}),1e3))}}},vt=pt,wt=(s("ed94"),Object(m["a"])(vt,dt,ft,!1,null,"554a206d",null)),Ct=wt.exports,bt={components:{SearchList:c["a"],ChatList:x,FriendChatInfo:N,GroupChatInfo:G,VText:Ct,MessageChat:ut},data:function(){return{isShow:!1,showIng:!1,placeholder:"搜索"}},computed:Object(a["a"])(Object(a["a"])({},Object(v["d"])({selectChatId:function(t){return t.chat.selectChatId}})),Object(v["c"])({selectedChat:"chat/selectedChat"})),created:function(){var t=this;document.addEventListener("click",(function(e){var s=document.getElementById("info");s&&(s.contains(e.target)||(t.showIng?t.showIng=!1:t.isShow=!1))}))},methods:{showChatInfo:function(t){this.showIng=t,this.isShow=!this.isShow}}},xt=bt,yt=(s("7189"),Object(m["a"])(xt,i,n,!1,null,"1eef8cca",null));e["default"]=yt.exports},"5bca":function(t,e,s){},"61ff":function(t,e,s){},"65ac":function(t,e,s){},"66dd":function(t,e,s){},"66f4":function(t,e,s){"use strict";s("e734")},"6df8":function(t,e,s){"use strict";s("65ac")},7189:function(t,e,s){"use strict";s("3ae5")},"841c":function(t,e,s){"use strict";var i=s("d784"),n=s("825a"),a=s("1d80"),c=s("129f"),o=s("577e"),r=s("dc4a"),l=s("14c3");i("search",(function(t,e,s){return[function(e){var s=a(this),i=void 0==e?void 0:r(e,t);return i?i.call(e,s):new RegExp(e)[t](o(s))},function(t){var i=n(this),a=o(t),r=s(e,i,a);if(r.done)return r.value;var h=i.lastIndex;c(h,0)||(i.lastIndex=0);var u=l(i,a);return c(i.lastIndex,h)||(i.lastIndex=h),null===u?-1:u.index}]}))},8935:function(t,e,s){"use strict";s("eacc")},"8f7f":function(t,e,s){"use strict";s("e3a3")},a8ed:function(t,e,s){"use strict";s("61ff")},ad11:function(t,e,s){"use strict";s("c7f1")},bcd5:function(t,e,s){},c61c:function(t,e,s){"use strict";s("bcd5")},c7f1:function(t,e,s){},d2d7:function(t,e,s){"use strict";s("5bca")},dc4c:function(t,e,s){},e3a3:function(t,e,s){},e734:function(t,e,s){},eacc:function(t,e,s){},ed94:function(t,e,s){"use strict";s("f7ce")},f7ce:function(t,e,s){},fc0f:function(t,e,s){"use strict";s("176c")},fec8:function(t,e,s){"use strict";s("66dd")},ff9f:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"badge",style:{width:t.getWidth+"px",height:t.getHeight+"px",right:"-"+t.getWidth/2+"px",top:"-"+t.getHeight/2+"px",borderRadius:t.getWidth+"px"}},[t.showNum?s("span",{style:{width:t.getWidth+"px",height:t.getHeight+"px",lineHeight:t.getHeight+"px",transformOrigin:t.getWidth/2+"px "+t.getHeight/2+"px"}},[t._v(" "+t._s(t.getShowNum))]):t._e()])},n=[],a=(s("a9e3"),{model:{prop:"checked",event:"change"},props:{width:{type:Number,default:16},height:{type:Number,default:16},count:{type:Number,default:null},overflowCount:{type:Number,default:99},showNum:{type:Boolean,default:!0}},computed:{getWidth:function(){if(!this.showNum)return 10;var t=this.width;return this.count>9&&this.count<100&&(t+=4),this.count>99&&(t+=8),t},getHeight:function(){return this.showNum?this.height:10},getShowNum:function(){return this.count>this.overflowCount?this.overflowCount+"+":this.count}}}),c=a,o=(s("8935"),s("2877")),r=Object(o["a"])(c,i,n,!1,null,"56013c3e",null);e["a"]=r.exports}}]);